  - [2.4 IP 주소](#24-IP-주소)
    - [2.4.1 ARP](#241-ARP)
    - [2.4.2 홉바이홉 통신](#242-홉바이홉-통신)
    - [2.4.3 IP 주소 체계](#243-IP-주소-체계)
    - [2.4.4 IP 주소를 이용한 위치 정보](#244-IP-주소를-이용한-위치-정보)
  ---
## 2.4 IP 주소
### 2.4.1 ARP

- 컴퓨터와 컴퓨터 간의 통신은 IP 주소에서 ARP를 통해 MAC 주소를 찾아 해당 주소를 기반으로 통신
- ARP(Address Resolution Protocol)란 IP 주소와 MAC 주소의 다리 역할을 하는 프로토콜
- ARP를 통해 가장 주소인 IP 주소를 실제 주소인 MAC 주소로 변환
- RARP를 통해 실제 주소인 MAC 주소를 IP 주소로 변환
- 장치 A에 연결된 장치 B, C, D가 있을 때 ARP request broadcast를 보내서 특정 IP 주소에 해당하는 MAC 주소를 요청
- 해당 주소에 맞는 장치가 ARP reply로 MAC 주소를 반환

### 2.4.2 홉바이홉 통신

- IP 주소를 통해 통신하는 과정은 hob by hob 통신이라고 불림
- hop은 건너뛰는 모습을 의미
- 통신망에서 패킷이 여러 개의 라우터를 건너가는 모습을 표현
- 통신 장치에 있는 `라우팅 테이블` 의 IP를 통해 시작 주소부터 다음 IP로 계속 이동하는 라우팅 과정을 거쳐 패킷이 최종 목적지까지 도달

### 라우팅 테이블

- 라우팅 테이블은 송신지에서 수신지까지 도달하기 위해 사용
- 라우터에 존재하는 목적지 정보들과 그 목적지로 가기 위한 경로가 저장되어있는 리스트
- 게이트웨이와 모든 목적지에 대해 도달하기 위해 거쳐야할 다음 라우터의 정보 저장

### 게이트웨이

- 서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 일종의 관문
- 명령 프롬프트에서 `netstat -r` 명령어를 실행하여 확인 가능

### 2.4.3 IP 주소 체계

- IPv4
    - 총 32비트
    - 8비트 단위로 표기
- IPv6
    - 총 64비트
    - 16비트 단위로 표기

### 클래스 기반 할당 방식

- 지속해서 발전 중
- 과거에는 A, B, C, D, E 다섯 개의 클래스를 기반으로 할당
- A4 용지의 개념과 비슷
    - A1용지 크기의 반이 A2
    - A클래스는 전체 IPv4의 반
- IPv4를 비트로 표현하면
    
    from 000000000.000000000.000000000.000000000 to 11111111.11111111.11111111.11111111
    
- 클래스 별 할당된 IP 주소 범위
    - A클래스
        
        **0**0000000.00000000.00000000.00000000 부터
        
        **0**1111111.11111111.11111111.11111111 까지
        
    - B클래스
        
        **10**000000.00000000.00000000.00000000 부터
        
        **10**111111.11111111.11111111.11111111 까지
        
    - 클래스는
        
        1**10**00000.00000000.00000000.00000000 부터
        
        1**10**11111.11111111.11111111.11111111 까지
        
    - D클래스는
        
        11**10**0000.00000000.00000000.00000000 부터
        
        11**10**1111.11111111.11111111.11111111 까지
        
    - E클래스는
        
        111**1**0000.00000000.00000000.00000000 부터
        
        **11**111111.11111111.11111111.11111111 까지
        
- 첫 번째 주소는 네트워크 구별 주소
    - Class A로 12.0.0.0이라는 네트워크가 존재할 경우
    - 첫 번째 주소 12.0.0.0은 네트워크 주소
- 마지막 주소는 브로드캐스트용 주소
    - 12.255.255.255는 12.0.0.0 네트워크의 브로드캐스트용 주소
- 사용하는 주소보다 버리는 주소가 많은 단점이 존재

### DHCP (Dynamic Host Configuration Protocal)

- IP주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜
- 인터넷에 접속할 때마다 자동으로 IP 주소를 할당
- 라우터와 게이트웨이 장비에 DHCP 기능 존재

### NAT (Network Address Translation)

- 패킷이 라우팅 장치를 통해 전송되는 중 패킷의 IP 주소를 수정하여 다른 주소로 맵핑하는 방법
- 공인 IP와 사설 IP로 구분하여 많은 주소 처리 가능
- 공유기와 NAT
    - 여러 대의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속 가능
    - 여러 명이 동일한 IP로 인터넷을 접속하게 되므로 속도가 느려질 수 있음
- NAT를 이용한 보안
    - 내부 네트워크에서 사용하는 IP 주소를 외부에서 다르게 사용

### 2.4.4 IP 주소를 이용한 위치 정보